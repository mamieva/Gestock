<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-styles/default-theme.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-styles/shadow.html">
<!-- Componentes propios -->
<link rel="import" href="./card-item.html">
<link rel="import" href="./userlist-page.html">

<dom-module id="config-page">
  <template>
    <style>
      .container-horizontal {
        @apply(--layout-horizontal);
        @apply(--layout-wrap);
        width: 100%;
      }
      @media (max-width: 680px) {
        .container-horizontal{
          @apply(--layout-center-justified);
        }
        card-item{
          width: 100%;
        }
      }
      @media (min-width: 680px) {
        card-item{
          width: 33.33%;
        }
      }
      @media (min-width: 990px) {
        card-item{
          width: 25%;
        }
      }
      iron-selector {
        width: 100%;
        display: block;
        text-decoration: none;
        color: black;
      }
      paper-item {
        font-size: 2em;
      }
      /*Estilos de la tabla*/
      span {
        font-size:0.7em;
      }
      /*}
      .name {
        width: 20em;
        overflow: hidden;
        text-overflow: ellipsis
      }
      .password {
        @apply(--layout-flex);
        width: 10em;
        text-overflow: ellipsis
      }
      .status {
        @apply(--layout-flex);
        width: 10em;
      }
      .date {
        width: 10em;
      }
      .user {
        width: 10em;
      }*/
    </style>
    <!-- <div class="container-horizontal"> -->
      <app-route route="{{route}}" pattern="/:page" tail="{{tailRoute}}">

      </app-route>
      <iron-selector class="container-horizontal"
                     attr-for-selected="name"
                     selected="{{page}}"
                     fallback="0">

        <card-item label="Usuarios" icon="icon-set:usuario" href="#/users" name="users">
          Esta opcion permite configurar los usuarios
        </card-item>
        <card-item label="Roles" icon="icon-set:roles" href="#/roles" name="roles">
          Esta opcion permite configurar los usuarios
        </card-item>

      </iron-selector>
      <iron-pages attr-for-selected="name" selected="{{page}}" fallback="0">
        <userlist-page name="users" route="{{tailRoute}}"></userlist-page>
      </iron-pages>

  </template>

  <script>
    Polymer({

      is: 'config-page',

      properties: {
        page: {
          type: String,
          value: '0',
          observer: '_pageChanged'
        },
        route: {
          value: function () {
            return {path: '/', prefix: '', __queryParams: {}}
          }
        },
        pattern: {
          value: function () {
            let pathname = window.location.pathname
            return pathname.substring(0, pathname.lastIndexOf('/'))
          }
        }
      },
      // _ready: function () {
      //   this.page = 'configuration'
      // },
      _pageChanged: function () {
        console.log('--PAGE--',this.page);
        if (this.page) {
          if (this.page=='configuration') {}
        }
      }
    });
  </script>
</dom-module>
